echo "import { useState } from 'react'; import axios from 'axios'; const API_URL = 'https://script.google.com/macros/s/AKfycbyMR8--C3duIFLvIv8ikyv_qQArXQY4f0kjYwYVZmPDr4wumZlaMK_x4yjZO1MfoCAC/exec'; export default function Cotacao() { const [form, setForm] = useState({ numeroSolicitacao: '', fornecedor1: '', valor1: '', prazo1: '', link1: '', fornecedor2: '', valor2: '', prazo2: '', link2: '', fornecedor3: '', valor3: '', prazo3: '', link3: '', observacoes: '' }); const [loading, setLoading] = useState(false); const [resposta, setResposta] = useState(null); const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value }); const enviarFormulario = async (e) => { e.preventDefault(); setLoading(true); try { const res = await axios.post(API_URL, { tipo: 'cotacao', ...form }); setResposta(res.data); } catch (err) { alert('Erro ao enviar: ' + err.message); } finally { setLoading(false); } }; return (<div className='p-6 bg-agro-light min-h-screen'><h1 className='text-2xl font-bold mb-4 text-center'>Cotação de Peça</h1>{!resposta ? (<form onSubmit={enviarFormulario} className='max-w-lg mx-auto bg-white text-black p-6 rounded-lg shadow-lg'><input name='numeroSolicitacao' placeholder='Nº Solicitação (ex: SC-2025-0001)' onChange={handleChange} required />{[1,2,3].map((i)=>(<div key={i} className='border-t border-gray-300 mt-4 pt-4'><h3 className='font-bold text-agro mb-2'>Fornecedor {i}</h3><input name={`fornecedor${i}`} placeholder='Nome do Fornecedor' onChange={handleChange}/><input name={`valor${i}`} placeholder='Valor (R$)' onChange={handleChange}/><input name={`prazo${i}`} placeholder='Prazo de Entrega' onChange={handleChange}/><input name={`link${i}`} placeholder='Link do Orçamento (Drive ou site)' onChange={handleChange}/></div>))}<textarea name='observacoes' placeholder='Observações' onChange={handleChange}></textarea><button type='submit' disabled={loading} className='w-full mt-4'>{loading ? 'Enviando...' : 'Enviar Cotação'}</button></form>) : (<div className='text-center mt-8'><h2 className='text-2xl font-bold mb-4 text-white'>✅ Cotação Enviada</h2><p>Número: {resposta.numero}</p><a href={resposta.pdfUrl} target='_blank' rel='noopener noreferrer' className='underline block my-2'>Ver PDF</a><button onClick={() => { const msg = encodeURIComponent(`Cotação nº ${resposta.numero}\\nReferente à solicitação ${form.numeroSolicitacao}\\nPDF: ${resposta.pdfUrl}`); window.open(`https://wa.me/?text=${msg}`); }} className='mt-4'>Enviar pelo WhatsApp</button></div>)}</div>); }" > pages/cotacao.jsx
